<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>安防星全景界面</title>

    <script src="lib/require.js"></script>
    <script src="requirejs_config.js"></script>
    <link rel="stylesheet" type="text/css" href="src/css/view.css"/>
    <link rel="stylesheet" type="text/css" href="src/css/jquery.mCustomScrollbar.min.css">

    <script>
        require(['ids360Viewer', 'database'], function (ids360Viewer, database) {
            function getRequest() {
                var url = location.search; //获取url中"?"符后的字串
                var theRequest = new Object();
                if (url.indexOf("?") != -1) {
                    var str = url.substr(1);
                    var strs = str.split("&");
                    for (var i = 0; i < strs.length; i++) {
                        theRequest[strs[i].split("=")[0]] = (strs[i].split("=")[1]);
                    }
                }
                return theRequest;
            }

            var param = getRequest();
            var stageId = param.stageId;
            var sceneIds = param.sceneIds;
            var sceneId = param.sceneId;

            database.init("http://secpano.indoorstar.com:6628/sec/pano/", param.userSn, "2CC772253C0F8F35744437A03897564F");
            ids360Viewer.init(document);
            ids360Viewer.animate();
            if (stageId) {
                ids360Viewer.loadStage(stageId, sceneId);
            } else if (sceneIds) {
                ids360Viewer.loadScenes(sceneIds, sceneId);
            }
        });
    </script>

</head>
<body ondragstart="return false;" oncontextmenu="return false;">


<img id="returnImg" src="res/img/view/return.png">
<img id="switchLayer" src="res/img/view/switchlayer.png">

<!--地图图层-->
<div id="mapMarkerContainer" style="opacity:0;width:100%; height:100%;resize:both;z-index: 7;"></div>

<div id="mainDiv" style="opacity:0;height:100%">

    <img id="measureImg" src="res/img/view/measure.png">
    <img id="editImg" src="res/img/view/edit.png">
    <img id="selectImg" src="res/img/view/selectPos.png">

    <img id="fullscreenImg" src="res/img/view/fullscreen.png">
    <img id="exitFullscreenImg" src="res/img/view/exitFullscreen.png">

    <img id="superpositionImg" src="res/img/view/superpositionNoShow.png">
    <img id="infraredImg" src="res/img/view/infraredNoShow.png">
    <img id="mapImg" src="res/img/view/mapNoShow.png">
    <img id="panoramaImg" src="res/img/view/panoramaShow.png">

    <!--编辑文字用的canvas-->
    <input type="text" id="textInput" class="textInput" autofocus="autofocus" width="auto"/>

    <div id="editDiv" style="display: none">
        <div id="spanDiv" class="editClass">
            <img id="backEditImg" src="res/img/view/backEdit.png">
            <div id="picker-wrapper" style="display: none">
                <div id="picker"></div>
                <div id="picker-indicator"></div>
            </div>
            <div id="slider-wrapper">
                <div id="slider"></div>
                <div id="slider-indicator"></div>
            </div>
            <img id="textImg" src="res/img/view/text.png">
            <img id="rubberImg" src="res/img/view/rubber.png">
            <img id="lineImg" src="res/img/view/line.png">
            <img id="waterImg" src="res/img/view/water.png">
            <img id="fireHydrantImg" src="res/img/view/fireHydrant.png">
            <img id="fireEngineImg" src="res/img/view/fireEngine.png">
        </div>
    </div>
    <div id="measureDiv" style="display: none">
        <img id="distanceImg" src="res/img/view/distance.png">
        <img id="heightImg" src="res/img/view/height.png">
        <img id="areaImg" src="res/img/view/area.png">
        <img id="backMeasureImg" src="res/img/view/backEdit.png">
    </div>
    <div id="selectDiv" class="scrollBar">
        <!--<div style="background-image: url()" class="listDetailDiv" onclick="selectDivClick()"><span class="timeSpan">time</span></div>-->
        <!--<img src="../res/img/view/listExample.png" class="listDetailImg">-->
    </div>

    <!-- 悬浮的显示div -->
    <!--<div id="emmm" class="arrow_box">-->
    <!--<span>这里放置美国大力龙泡沫车</span>-->
    <!--<span><img class="text_delimg" src="../res/img/icon/text_delete.png"></span>-->
    <!--</div>-->
    <!-- 悬浮的显示div -->
    <!--<div id="clickSetStart" class="clickSetStart">单击以确定起点</div>-->
    <!-- 悬浮的显示div -->
    <!--<div  class="pointDiv">-->
        <!--<img src="res/img/icon/point.png">-->
    <!--</div>-->
    <!-- 悬浮的显示div -->
    <!--<div class="pointLabel">-->
        <!--<img src="res/img/icon/destroy.png" onclick="removeOneLine()"/>-->
    <!--</div>-->

    <!--全景图层-->
    <div id="threeJsContainer" style="width:100%;height:100%;position: absolute;top: 0px;right: 0px;left: 0px;bottom: 0px;z-index: 5;"></div>
    <!--高德图层-->
    <div id="amapContainer" style="width:100%; height:100%;position: absolute;top: 0px;right: 0px;left: 0px;bottom: 0px;opacity: 0.7;pointer-events: none;z-index: 6;"></div>
</div>


<!--<div id="threeJsContainer" style="width:100%;height:100%;position: absolute;top: 0px;right: 0px;left: 0px;bottom: 0px;">-->

<!--</div>-->
<!--<div style="position: absolute;">-->
    <!--<button class='switchPanoVisibilityButton' type="button">显示/隐藏LayerPano</button>-->
    <!--<button class='enterCameraMode' type="button">设置Camera模式</button>-->
    <!--<button class='enterDrawlineMode' type="button">设置Drawline模式</button>-->
    <!--<button class='enterEraseMode' type="button">设置Erase模式</button>-->
<!--</div>-->


</body>
</html>